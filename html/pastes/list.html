<!-- TEMPLATE pre -->
<title>Latest pastes</title>
<script type="text/javascript">
    function bodyLoad() {
        loadPasteList({preview: 150}, result => {
            let columns = [
                {name: "pasteID", align: "right", inject: true, transform: d => `<a href="/pastes/${d}">${d}</a>`},
                {name: "author", align: "left"},
                {name: "creationTime", align: "left", transform: d => new Date(d).toLocaleString()},
                {name: "content", align: "left", css: "white-space: nowrap; overflow: hidden; max-width: 700px", transform: d => d.replace(/\n/g, " ").replace(/ +/g, " ")}
            ];
            let output = dataToTable(columns, result);
            output.forEach(tr => {
                q("#tbody").appendChild(tr);
            });
        });
    }
</script>
<!-- TEMPLATE header -->
<div>
    <table border style="white-space: nowrap">
        <thead>
            <tr>
                <td>ID</td>
                <td>Author</td>
                <td>Created on</td>
                <td>Preview</td>
            </tr>
        </thead>
        <tbody id="tbody">
        </tbody>
    </table>
</div>
<span id="username"></span>
<!-- TEMPLATE end -->